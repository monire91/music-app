{"ast":null,"code":"import _slicedToArray from \"D:\\\\music-website\\\\server\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\music-website\\\\server\\\\client\\\\src\\\\components\\\\songs\\\\UploadSong.js\";\nimport React, { useState } from 'react';\nimport Axios from \"axios\";\n\nconst Upload = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        file = _useState4[0],\n        setFile = _useState4[1];\n\n  const _useState5 = useState({}),\n        _useState6 = _slicedToArray(_useState5, 2),\n        photo = _useState6[0],\n        setPhoto = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        success = _useState8[0],\n        setSuccess = _useState8[1];\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"name\", name);\n    data.append(\"songURL\", file);\n    data.append(\"imageURL\", photo);\n    Axios.post(\"http://localhost:5000/api/addSong\", data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      console.log(res.data);\n      console.log('yes');\n      setSuccess(true);\n    });\n  };\n\n  const handleSelectedFile = e => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleSelectedPhoto = e => {\n    setPhoto(e.target.files[0]);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, success ? React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"'Song was uploaded successfully'\") : '', React.createElement(\"form\", {\n    encType: \"multipart/form-data\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"btn-block\",\n    placeholder: \"Name\",\n    type: \"text\",\n    name: \"name\",\n    onChange: e => setName(e.target.value),\n    value: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    placeholder: \"Music file\",\n    type: \"file\",\n    name: \"file\",\n    onChange: handleSelectedFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"custom-file was-validated\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"custom-file-label\",\n    htmlFor: \"validatedCustomFile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"photo\"), React.createElement(\"input\", {\n    placeholder: \"Cover Photo\",\n    type: \"file\",\n    name: \"photo\",\n    onChange: handleSelectedPhoto,\n    className: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Pick and image which is jpeg or png and not bigger than 5mb\")), React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Upload;","map":{"version":3,"sources":["D:/music-website/server/client/src/components/songs/UploadSong.js"],"names":["React","useState","Axios","Upload","name","setName","file","setFile","photo","setPhoto","success","setSuccess","handleSubmit","e","preventDefault","data","FormData","append","post","headers","then","res","console","log","handleSelectedFile","target","files","handleSelectedPhoto","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport Axios from \"axios\";\r\n\r\nconst Upload = () =>{\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [file, setFile] = useState({});\r\n    const [photo, setPhoto] = useState({});\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n\r\n        data.append(\"name\", name);\r\n        data.append(\"songURL\", file);\r\n        data.append(\"imageURL\", photo);\r\n\r\n        Axios.post(\"http://localhost:5000/api/addSong\", data, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }).then(res => {\r\n            console.log(res.data);\r\n            console.log('yes')\r\n            setSuccess(true)\r\n        });\r\n    };\r\n\r\n    const handleSelectedFile = e => {\r\n        setFile(e.target.files[0]);\r\n    };\r\n    const handleSelectedPhoto = e => {\r\n        setPhoto(e.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n                {success ? <div className=\"alert alert-success\">'Song was uploaded successfully'</div> : ''}\r\n\r\n            <form encType=\"multipart/form-data\" onSubmit={handleSubmit}>\r\n                {/*<label htmlFor=\"name\">Name: </label>*/}\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        className=\"btn-block\"\r\n                        placeholder=\"Name\"\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        onChange={e => setName(e.target.value)}\r\n                        value={name}\r\n                    />\r\n                </div>\r\n\r\n                {/*<label htmlFor=\"file\">File: </label>*/}\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        placeholder=\"Music file\"\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        onChange={handleSelectedFile}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"custom-file was-validated\">\r\n                    <label className=\"custom-file-label\" htmlFor=\"validatedCustomFile\">photo</label>\r\n                    <input\r\n                        placeholder=\"Cover Photo\"\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        onChange={handleSelectedPhoto}\r\n                        className=\"custom-file-input\"\r\n                        id=\"validatedCustomFile\"\r\n                        required\r\n\r\n                    />\r\n                    <div className=\"invalid-feedback\">Pick and image which is jpeg or png and not bigger than 5mb</div>\r\n                </div>\r\n\r\n                {/*<div className=\"custom-file\">*/}\r\n                {/*    <label className=\"custom-file-label\" htmlFor=\"validatedCustomFile\">{photo}</label>*/}\r\n                {/*    <input*/}\r\n                {/*        onChange={handleSelectedPhoto}*/}\r\n                {/*        type=\"file\"*/}\r\n                {/*        className=\"custom-file-input\"*/}\r\n                {/*        id=\"validatedCustomFile\"*/}\r\n                {/*        required*/}\r\n                {/*    />*/}\r\n                {/*</div>*/}\r\n\r\n                <button\r\n                    className=\"btn btn-primary btn-block\"\r\n                    type=\"submit\"\r\n                >Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Upload;"]},"metadata":{},"sourceType":"module"}